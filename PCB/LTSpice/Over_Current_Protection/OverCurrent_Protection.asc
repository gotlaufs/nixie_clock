Version 4
SHEET 1 1584 712
WIRE -160 96 -272 96
WIRE -48 96 -160 96
WIRE 16 96 -48 96
WIRE 128 96 96 96
WIRE 224 96 128 96
WIRE 496 96 320 96
WIRE 656 96 496 96
WIRE 784 96 656 96
WIRE 896 96 784 96
WIRE 992 96 976 96
WIRE 1056 96 992 96
WIRE 656 112 656 96
WIRE 1056 128 1056 96
WIRE 496 144 496 96
WIRE 896 144 896 96
WIRE -48 208 -48 96
WIRE 656 240 656 176
WIRE -272 256 -272 96
WIRE 128 256 128 96
WIRE 128 256 96 256
WIRE 160 256 128 256
WIRE 272 256 272 160
WIRE 272 256 240 256
WIRE 416 256 272 256
WIRE 896 288 896 224
WIRE 1056 288 1056 208
WIRE 416 304 416 256
WIRE 496 352 496 224
WIRE 496 352 480 352
WIRE 608 352 496 352
WIRE 736 352 688 352
WIRE 816 352 800 352
WIRE 1008 352 816 352
WIRE -48 448 -48 304
WIRE 0 448 -48 448
WIRE 416 448 416 400
WIRE 416 448 80 448
WIRE 496 448 496 352
WIRE 736 448 496 448
WIRE 816 448 800 448
WIRE 928 448 816 448
WIRE 416 480 416 448
WIRE 496 480 496 448
WIRE -272 672 -272 336
WIRE 416 672 416 560
WIRE 496 672 496 560
WIRE 928 672 928 528
WIRE 1008 672 1008 432
FLAG 656 240 0
FLAG 416 672 0
FLAG 496 672 0
FLAG 784 96 Vout
FLAG 816 352 ON
FLAG 816 448 OFF
FLAG -160 96 Vin
FLAG -272 672 0
FLAG 896 288 0
FLAG 1056 288 0
FLAG 928 672 0
FLAG 1008 672 0
FLAG 992 96 V_resistance
SYMBOL res 112 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL pnp 16 304 R180
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL npn 480 304 M0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL res 480 128 R0
SYMATTR InstName R2
SYMATTR Value 4.7k
SYMBOL res 480 464 R0
SYMATTR InstName R3
SYMATTR Value 560
SYMBOL res 112 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 256 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 96 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 432 576 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R7
SYMATTR Value 2.2k
SYMBOL res 592 368 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 560
SYMBOL cap 640 112 R0
SYMATTR InstName C1
SYMATTR Value 0.22µ IC=0
SYMBOL diode 800 336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 736 464 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL voltage -272 240 R0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage 1056 112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V_Rload
SYMATTR Value PWL(0 500 10m 500 50m 100 100m 500)
SYMBOL voltage 1008 336 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 3.3 5m 1n 1n 5m)
SYMATTR InstName V_on
SYMBOL voltage 928 432 R0
SYMATTR InstName V_off
SYMATTR Value 3.3
SYMBOL res 880 128 R0
WINDOW 3 -84 113 Left 2
SYMATTR Value R=V(V_resistance)
SYMATTR InstName R9
SYMBOL pnp 320 160 M270
SYMATTR InstName Q2
SYMATTR Value 2N3906
TEXT -304 696 Left 2 !.tran 100m
TEXT 528 48 Left 2 ;Initial capcaitor voltage is 0
